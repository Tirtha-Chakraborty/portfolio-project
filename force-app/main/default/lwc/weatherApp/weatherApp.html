<template>
    <div class="app flex-center slds-p-around_medium">
        <div class="app-card">
            <header class="flex-center">
                <template if:true={response}>
                    <img src={arrowBackIcon} alt="back arrow" onclick={backHandler} class="slds-m-right_medium cursor"/>
                </template>
                <h1>Weather App</h1>
            </header>
            <template if:false={response}>
                <section class="slds-m-around_large">
                    <h2 class="slds-m-bottom_small">
                        <span>
                            <img src={wavyStar} alt="Waving Star emoji" height="35px" width="35px">
                        </span>
                        Wondering how's the sky feeling today?
                    </h2>
                    <div if:true={loadingText} class="slds-grid slds-m-bottom_small flex-center background-style">
                        <div class={loadingStyle}>
                            {loadingText}
                        </div>
                        <div if:false={isError} class="loading-container slds-is-relative">
                            <lightning-spinner alternative-text="Loading" size="x-small" variant="brand"></lightning-spinner>
                        </div>
                    </div>
                    <form onsubmit={submitHandler}>
                        <input class="width-full" type="text" placeholder="Tell me the city name..." required spellcheck="false"
                        onkeyup={searchHandler}/>
                        <button type="submit" class="slds-m-top_large width-full">Find Out</button>
                    </form>
                </section>
            </template>
            <template if:true={response}>
                <section class="slds-m-around_large text-center">
                    <img class="weather-icon" src = {weatherIcon} alt="weather icon"/>
                    <div class="temperature">
                        <span>{response.temperature}</span>
                        <span>°</span>C
                    </div>
                    <div class="description">
                        {response.description}
                    </div>
                    <div class="location">
                        <img src = {mapIcon} alt="location icon"/>
                        {response.location}
                    </div>
                </section>
                <footer>
                    <div class="feels-like">
                        <div>
                            <img src = {thermometerIcon} alt="feels like icon"/>
                            <div>{response.feels_like}°C</div>
                        </div>
                        <p>Feels like</p>
                    </div>
                    <div class="humidity">
                        <div>
                            <img src = {dropletIcon} alt="droplet icon"/>
                            <div>{response.humidity}</div>
                        </div>
                        <p>Humidity</p>
                    </div>
                </footer>
            </template>
        </div>
    </div>
</template>